#!/usr/bin/ruby

require 'rubygems'
require 'json'
require 'lib/util'

all_keys = {}
$stdin.each do |line|
  LogStash::Util.collapse(JSON.parse(line)).keys.each do |k|
    all_keys[k] = true
  end
end

puts all_keys.keys.sort
