#summary Short introduction and basic config to get you going
#labels intro,logstash,standalone,elasticsearch

= Introduction - Standalone Setup =

This guide shows how to get you going quickly with logstash on a single, standalone server collecting its own logs. By standalone, I mean that everything happens on a single server: log collection, indexing, and the web interface.

You'll want to download a few things:
   * Install logstash (rubygems, see below)
   * Download elasticsearch - http://www.elasticsearch.com/download/ (Requires elasticsearch 0.12.1 or newer)

== ElasticSearch ==

Paste this in your shell for easy downloadings.

{{{
ES_PACKAGE=elasticsearch-0.12.1.zip
ES_DIR=${ES_PACKAGE%%.zip}
if [ ! -d "$ES_DIR" ] ; then
  wget --no-check-certificate http://github.com/downloads/elasticsearch/elasticsearch/$ES_PACKAGE
  unzip $ES_PACKAGE
fi
}}}

Otherwise - Download and unpack the elasticsearch yourself. It's written in
Java and requires Java (uses Lucene on the backend; if you want to know more
read the elasticsearch docs).

To start the service, run bin/elasticsearch. If you want to run it in the
foreground, use 'bin/elasticsearch -f' 

== logstash ==

Once you have elasticsearch running, you're ready to configure logstash.

Installing logstash via rubygems:
{{{
gem install logstash -v 0.1.507
}}}

Note: If you did 'gem install logstash' you should have a 'logstash' tool in
your path, if not, check the output of 'gem env' and look for the path listed
as "EXECUTABLE DIRECTORY".

The configuration of any logstash agent consists of specifying inputs, filters,
and outputs. For this example, we will not configure any filters.

The inputs are your log files. The output will be elasticsearch. The config
format is YAML. The bottom of this document includes links for further reading
(config, etc) if you want to learn more.

{{{
inputs:
  syslog: # each input must have a type, the type can be anything.
  - /var/log/messages
  - /var/log/syslog
  # Wildcards work.
  - /var/log/*.log
  apache-access:
  - /var/log/apache2/access.log
  apache-error:
  - /var/log/apache2/error.log

outputs:
- stdout:///   # output events to stdout for debugging
- elasticsearch://localhost:9200/logstash/logs
}}}

Call this file 'logstash.yaml' (or anything, really), and run: 

{{{
logstash -f logstash.yaml
}}}

== logstash web interface ==

Since this is standalone, on the same machine, run the logstash web interface
on that same system.

To run the logstash web server, just run 'logstash-web' (ships with the
logstash gem). You should see output something like this:

{{{
% logstash-web
>> Thin web server (v1.2.7 codename No Hup)
>> Maximum connections set to 1024
>> Listening on 0.0.0.0:9292, CTRL+C to stop
}}}

Just point your browser at the http://yourserver:9292/ and start searching
logs!
